# ğŸŒ æ¬¢è¿ä½¿ç”¨ Sun è¯­è¨€ ğŸŒ

*version: 0.2.5*

Sun æ˜¯ä¸€ç§è„šæœ¬è¯­è¨€ï¼Œå®ƒå…·æœ‰ç®€æ´æ˜“è¯»çš„è¯­æ³•å’Œç®€å•çš„æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬ `Nil`ã€`Bool`ã€`Number`ã€`String`ã€`Table`ã€‚

## 1 è¿è¡Œ

### 1.1 äº¤äº’æ¨¡å¼

ä½¿ç”¨ `cargo run` è¿›å…¥äº¤äº’æ¨¡å¼ï¼Œä½¿ç”¨ `exit()` æ¥ä¸»åŠ¨é€€å‡ºç¨‹åº

### 1.2 è„šæœ¬æ¨¡å¼

åœ¨å‘½ä»¤è¡Œæ·»åŠ æŒ‡å®šæ–‡ä»¶çš„è·¯å¾„: `cargo run /path/to/file`

## 2 æ•°æ®ç±»å‹

- `Nil`ï¼šè¡¨ç¤ºç©ºå€¼
- `Bool`ï¼šè¡¨ç¤ºå¸ƒå°”å€¼ï¼Œå¯ä»¥æ˜¯ `true` æˆ– `false`, ä½¿ç”¨ `T` / `F` / `false` / `true` æ¥åˆ›å»º
- `Number`ï¼šè¡¨ç¤ºæ•°å€¼ï¼ŒåŒ…æ‹¬æ•´æ•°å’Œæµ®ç‚¹æ•°
- `String`ï¼šè¡¨ç¤ºå­—ç¬¦ä¸²
- `Table`ï¼šè¡¨ç¤ºå®¹å™¨æ•°æ®ç±»å‹ï¼Œæ”¯æŒä»¥æ•°ç»„å½¢å¼å’Œå­—å…¸å½¢å¼å­˜å‚¨æ•°æ®

## 3 è¿ç®—ç¬¦

- åŠ å‡ä¹˜é™¤ï¼šç”¨ `+`ã€`-`ã€`*` å’Œ `/` è¿ç®—ç¬¦è¿›è¡ŒåŠ å‡ä¹˜é™¤è¿ç®—
- å–ä½™ï¼šç”¨ `%` è¿ç®—ç¬¦è¿›è¡Œå–ä½™è¿ç®—
- å–å…±è½­ï¼šç”¨ `*` è¿ç®—ç¬¦è¿›è¡Œå–å…±è½­è¿ç®—
- é˜¶ä¹˜ï¼šç”¨ `!` è¿ç®—ç¬¦è¿›è¡Œé˜¶ä¹˜è¿ç®—
- å¹‚è¿ç®—ï¼šç”¨ `^` è¿ç®—ç¬¦è¿›è¡Œå¹‚è¿ç®—
- ä¸æˆ–éï¼šç”¨ `&&`ã€`||` å’Œ `~` è¿ç®—ç¬¦è¿›è¡Œä¸æˆ–éè¿ç®—
- å¼‚æˆ–ï¼šç”¨ `^^` è¿ç®—ç¬¦è¿›è¡Œå¼‚æˆ–è¿ç®—

### 3.! æ³¨æ„

æ‰€æœ‰çš„è¿ç®—è¿ç®—å½“å˜é‡åä½œä¸ºç¬¬ä¸€ä¸ªä½ç½®å‚æ•°æ—¶å°†æ”¹å˜å˜é‡çš„å€¼ï¼Œå¦‚ä¸‹ï¼š

```sun
// å˜é‡åä½œä¸ºç¬¬äºŒä¸ªä½ç½®å‚æ•°
i = 0;
1 + i;
print(i)
[o] 0

// å˜é‡åä½œä¸ºç¬¬ä¸€ä¸ªä½ç½®å‚æ•°
i = 0;
i + 1;
print(i)
[o] 1
```

ä½¿ç”¨ `clone()` æˆ–è€…ä½¿ç”¨è¿ç®—ç¬¦ `'` è·å–æ•°æ®çš„æ‹·è´ä»¥é¿å…å¼•ç”¨å€¼çš„æ”¹å˜

```sun
i = 10;
'i + 1  // i.clone() + 1
```

ä¸è¿‡è¯·æ³¨æ„ä¸æ¨èè°ƒç”¨å¸¦æœ‰è¿”å›å€¼å‡½æ•°è€Œä¸å°†å®ƒä»¬çš„å€¼èµ‹ç»™æ–°å˜é‡ï¼Œè¿™å°†ä¼šåœ¨è°ƒç”¨æ ˆä¸Šç”Ÿæˆåƒåœ¾ï¼Œæœªæ¥ä¼šä¿®å¤è¿™ä¸€é—®é¢˜

```sun
// èµ‹å€¼è¯­å¥
a = 0;
b = a + 1;
print(a, b)
[o] 1, 1        // a çš„å€¼æ”¹å˜äº†
c = 'a + 1;
print(a, c)     // a çš„å€¼æ²¡æœ‰æ”¹å˜
[o] 1, 2
d = 1 + a;
print(a, d)
[o] 1, 2        // a çš„å€¼æ²¡æœ‰æ”¹å˜
```

## 4 è¯­å¥å—

ä½¿ç”¨ `;` æ¥åˆ†å‰²ä¸åŒçš„è¯­å¥

```sun
a = 0; print(a); a = a + 1; print(a)
```

## 5 å‘½ä»¤è¡Œå‚æ•°

+ `--ct`: æ£€æŸ¥è¯æ³•åˆ†æç»“æœ
+ `--cp`: æ£€æŸ¥è¯­æ³•æ ‘
+ `--cc`: æ£€æŸ¥ç”Ÿæˆçš„æŒ‡ä»¤
+ `--cs`: æ£€æŸ¥è°ƒç”¨å †æ ˆ
+ `--cg`: æ£€æŸ¥å…¨å±€å˜é‡è¡¨
+ `--debug`: æŸ¥çœ‹è¿è¡Œæƒ…å†µ

## 6 æµç¨‹æ§åˆ¶

### 6.1 if

ä½¿ç”¨ `?` åˆ›å»ºæ¡ä»¶è¯­å¥ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š

```sun
? condition: 
    do_1;
    do_2;
    do_3
??
    else_do_1;
    else_do_2
|
```

### 6.2 loop

ä½¿ç”¨ `$` åˆ›å»ºå¾ªç¯è¯­å¥ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š

```sun
$ condition: 
    do_1;
    do_2;
    do_3
|
```

`|` è¡¨ç¤ºè¯­å¥å—çš„ç»“æŸï¼Œconditon å¯ä»¥æ˜¯æ¯”è¾ƒè¯­å¥çš„ç»„åˆ: `a > 0 && b < 2 || (c + 1) > 3`

## 6.3 ç±»å‹æ–¹æ³•

ä½¿ç”¨ `.` è·å–æŸå€¼çš„æ–¹æ³•

```sun
a = 10;
b = a.add(20);
print(b)
[o] 30
ADD = a.add;
print(ADD)
[o] <function: 0xd6d530>
c = ADD(40, 2)
print(c)
[o] 42
```

å®é™…ä¸Šæ‰€æœ‰è¿ç®—ç¬¦éƒ½æ˜¯å®ç°äº†è¯¥è¿ç®—ç¬¦è¿ç®—çš„ç±»å‹æ–¹æ³•

## 6.5 ç³»ç»Ÿæ–¹æ³•

ä¸€äº›å¯¹è™šæ‹Ÿæœºçš„æ“ä½œæ–¹æ³•

+ `drop` æ¥æ”¶ä¸€ä¸ª `String` ç±»å‹çš„å‚æ•°ï¼Œä»å…¨å±€å˜é‡è¡¨ä¸­åˆ é™¤æŒ‡å®šå˜é‡
+ `show` æ¥æ”¶ä¸€ä¸ª `String` ç±»å‹çš„å‚æ•°ï¼Œæ‰“å°æŒ‡å®šä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šä½¿ç”¨ `global` æ¥æ‰“å°å…¨å±€å˜é‡è¡¨çš„å†…å®¹

## 6.4 Table æ•°æ®ç±»å‹

Table æ˜¯ä¸€ç§å®¹å™¨æ•°æ®ç±»å‹ï¼Œæ”¯æŒä»¥æ•°ç»„å½¢å¼å’Œå­—å…¸å½¢å¼å­˜å‚¨æ•°æ®ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹åˆå§‹åŒ–è¯­å¥æ¥åˆ›å»º Tableï¼š

```sun
{10, "a", false, "key": 100}
```

è¿™å°†åˆ›å»ºä¸€ä¸ªåŒ…å« 10ã€"a" å’Œ false è¿™äº›å€¼çš„æ•°ç»„ï¼Œä»¥åŠä¸€ä¸ª key ä¸º "key"ï¼Œå€¼ä¸º 100 çš„é”®å€¼å¯¹ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•æ¥è®¿é—® Table ä¸­çš„æ•°æ®ï¼š

- é€šè¿‡ä¸‹æ ‡è®¿é—®æ•°ç»„å…ƒç´ ï¼š`table[1]`
- é€šè¿‡é”®è®¿é—®å­—å…¸å…ƒç´ ï¼š`table["key"]`
- table çš„å…¶ä»–æ–¹æ³•ï¼š`remove` `push` `insert` `extend` `aextend` `dextend` `alen` `dlen` `len`

## 6.5 ç¤ºä¾‹

ä»¥ä¸‹æ˜¯ä¸€äº› Sun è¯­è¨€çš„ç¤ºä¾‹ä»£ç ï¼š

```sun
// å®šä¹‰ä¸€ä¸ªå˜é‡
x = 10

// åˆ›å»ºä¸€ä¸ª Table
table = {10, "a", false, "key": 100}

// è®¿é—® Table ä¸­çš„å…ƒç´ 
print(table[1])
print(table["key"])

// ä¿®æ”¹ Table
table.insert("new_key", x)
table.insert(0, "at_0")
table.remove(1)
print(table)

new_table = {0, "c", false}
new_table.extend(table)
print(table)

// å¾ªç¯
i = 0;
t = {10, 20, 30, 40};
$ i <= 3: print(t[i]); i = i + 1 | 
[o] 10
[o] 20
[o] 30
[o] 40
```

## 6.7 TODO

- [x] æµç¨‹æ§åˆ¶
- [x] è¯­å¥å—
- [ ] è‡ªå®šä¹‰å‡½æ•°
- [ ] è‡ªå®šä¹‰ç±»
- [ ] Rust Api
- [x] å®Œå–„ä»£ç æ³¨é‡Š
- [ ] æ–‡æ¡£ç³»ç»Ÿ
- [ ] è°ƒè¯•ç³»ç»Ÿ
- [ ] é—­åŒ…
- [ ] åç¨‹
- [ ] å®Œå–„æ ‡å‡†åº“
- [ ] VsCode æ’ä»¶